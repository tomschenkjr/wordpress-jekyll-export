---
id: 1419
title: Using Sublime Text 2 for R
date: 2012-05-17T07:37:14+00:00
author: tom_schenk
layout: post
guid: http://tomschenkjr.net/?p=1419
permalink: /blog/using-sublime-text-2-for-r/
superawesome:
  - 'false'
jabber_published:
  - "1337262088"
email_notification:
  - "1337262090"
publicize_results:
  - 'a:1:{s:7:"twitter";a:1:{i:52309870;a:2:{s:7:"user_id";s:11:"tomschenkjr";s:7:"post_id";s:18:"203118063300784128";}}}'
tagazine-media:
  - 'a:7:{s:7:"primary";s:69:"http://tomschenkjr.net/wp-content/uploads/2012/05/r-in-sublime-text2.png";s:6:"images";a:11:{s:69:"http://tomschenkjr.net/wp-content/uploads/2012/05/r-in-sublime-text2.png";a:6:{s:8:"file_url";s:69:"http://tomschenkjr.net/wp-content/uploads/2012/05/r-in-sublime-text2.png";s:5:"width";s:4:"1919";s:6:"height";s:4:"1142";s:4:"type";s:5:"image";s:4:"area";s:7:"2191498";s:9:"file_path";s:0:"";}s:66:"http://tomschenkjr.net/wp-content/uploads/2012/05/r-script-syntax.png";a:6:{s:8:"file_url";s:66:"http://tomschenkjr.net/wp-content/uploads/2012/05/r-script-syntax.png";s:5:"width";s:3:"976";s:6:"height";s:3:"510";s:4:"type";s:5:"image";s:4:"area";s:6:"497760";s:9:"file_path";s:0:"";}s:66:"http://tomschenkjr.net/wp-content/uploads/2012/05/choose-language.png";a:6:{s:8:"file_url";s:66:"http://tomschenkjr.net/wp-content/uploads/2012/05/choose-language.png";s:5:"width";s:3:"194";s:6:"height";s:3:"152";s:4:"type";s:5:"image";s:4:"area";s:5:"29488";s:9:"file_path";s:0:"";}s:71:"http://tomschenkjr.net/wp-content/uploads/2012/05/tracking-parenthesis.png";a:6:{s:8:"file_url";s:71:"http://tomschenkjr.net/wp-content/uploads/2012/05/tracking-parenthesis.png";s:5:"width";s:3:"741";s:6:"height";s:3:"150";s:4:"type";s:5:"image";s:4:"area";s:6:"111150";s:9:"file_path";s:0:"";}s:73:"http://tomschenkjr.net/wp-content/uploads/2012/05/autocomplete-variables.png";a:6:{s:8:"file_url";s:73:"http://tomschenkjr.net/wp-content/uploads/2012/05/autocomplete-variables.png";s:5:"width";s:3:"841";s:6:"height";s:3:"194";s:4:"type";s:5:"image";s:4:"area";s:6:"163154";s:9:"file_path";s:0:"";}s:67:"http://tomschenkjr.net/wp-content/uploads/2012/05/install-packages.png";a:6:{s:8:"file_url";s:67:"http://tomschenkjr.net/wp-content/uploads/2012/05/install-packages.png";s:5:"width";s:4:"1351";s:6:"height";s:3:"358";s:4:"type";s:5:"image";s:4:"area";s:6:"483658";s:9:"file_path";s:0:"";}s:57:"http://tomschenkjr.net/wp-content/uploads/2012/05/r-path.png";a:6:{s:8:"file_url";s:57:"http://tomschenkjr.net/wp-content/uploads/2012/05/r-path.png";s:5:"width";s:3:"377";s:6:"height";s:3:"533";s:4:"type";s:5:"image";s:4:"area";s:6:"200941";s:9:"file_path";s:0:"";}s:68:"http://tomschenkjr.net/wp-content/uploads/2012/05/advanced-settings.png";a:6:{s:8:"file_url";s:68:"http://tomschenkjr.net/wp-content/uploads/2012/05/advanced-settings.png";s:5:"width";s:3:"854";s:6:"height";s:3:"610";s:4:"type";s:5:"image";s:4:"area";s:6:"520940";s:9:"file_path";s:0:"";}s:62:"http://tomschenkjr.net/wp-content/uploads/2012/05/path-screen.png";a:6:{s:8:"file_url";s:62:"http://tomschenkjr.net/wp-content/uploads/2012/05/path-screen.png";s:5:"width";s:3:"854";s:6:"height";s:3:"651";s:4:"type";s:5:"image";s:4:"area";s:6:"555954";s:9:"file_path";s:0:"";}s:61:"http://tomschenkjr.net/wp-content/uploads/2012/05/r-console2.png";a:6:{s:8:"file_url";s:61:"http://tomschenkjr.net/wp-content/uploads/2012/05/r-console2.png";s:5:"width";s:3:"976";s:6:"height";s:3:"425";s:4:"type";s:5:"image";s:4:"area";s:6:"414800";s:9:"file_path";s:0:"";}s:68:"http://tomschenkjr.net/wp-content/uploads/2012/05/side-by-side-view.png";a:6:{s:8:"file_url";s:68:"http://tomschenkjr.net/wp-content/uploads/2012/05/side-by-side-view.png";s:5:"width";s:4:"1919";s:6:"height";s:4:"1138";s:4:"type";s:5:"image";s:4:"area";s:7:"2183822";s:9:"file_path";s:0:"";}}s:6:"videos";a:0:{}s:11:"image_count";s:2:"11";s:6:"author";s:6:"176156";s:7:"blog_id";s:7:"8375094";s:9:"mod_stamp";s:19:"2012-05-16 17:03:49";}'
categories:
  - Technology
tags:
  - programming
  - R
  - sublime text
---
<a href="http://tomschenkjr.net/wordpress/wp-content/uploads/2012/05/r-in-sublime-text2.png"><img class="aligncenter size-full wp-image-1445" title="R in Sublime Text" alt="" src="http://tomschenkjr.net/wordpress/wp-content/uploads/2012/05/r-in-sublime-text2.png" width="600" height="357" /></a>

My R interface has been pretty basic in the last few years. I have usually stuck to the R console. Yes, I've tried<a href="http://www.gnu.org/software/emacs/"> Emacs</a> with <a href="http://ess.r-project.org/">ESS</a>; a staple, but it is so unbearably antiquated that I always gave up on its significant learning curve. GUI packages--especially <a href="http://www.rstudio.org/">Rstudio</a>--offer viable alternatives, but I feel the GUI lets me lose focus of the code. I have been envious of TextMate for Mac, but alas, I'm not a Mac user. Recently, though, I've moved to <a href="http://www.sublimetext.com/2">Sublime Text 2</a>. With some nudging, I have been able to mimic the typical R console environment in the more-powerful Sublime Text program.

<!--more-->
<blockquote>Want to skip to the basic instructions without the narrative? Just read the block quotes for specific instructions.</blockquote>
Sublime Text 2 offers a similar experience as TextMate (e.g., autocompleting parenthesis and quotation marks) and integrates well with R and other programming languages. R users aren't the primary target and it takes a little kick to get the environment perfected for the R community. This is a little tutorial to give R users a similar experience with Sublime Text without ruining the program's versatility. That is, you can have a familiar R experience and easily use Sublime Text with programming languages (e.g., JavaScript, C++) and typesetting programs (e.g., LaTeX, Markdown, MultiMarkdown).

This setup will let you
<ul>
	<li>Browse R code with syntax highlighting</li>
	<li>Use the familiar R console within Sublime Text</li>
	<li>Send R code from a script to the R control (equivalent to Ctrl + R)</li>
	<li>Organizing the layout so the script and console can be viewed simultaneously.</li>
</ul>
<div>The first and last items are natively supported, but we'll need to make some additional adjustments for the second and third item.</div>
<h2><strong>Initial Setup</strong></h2>
<blockquote>I will presume some user knowledge here and will focus on the Windows user. Setup is very easy. Their website has<a title="Install Sublime Text 2" href="http://www.sublimetext.com/2"> links to executable autoinstallers</a>, you won't need to unzip and manual install nor are you depending on a third party to graciously compile code on your behalf.</blockquote>
Follow the instructions and install using the default settings.
<h2><strong>Take a look around</strong></h2>
<p style="text-align: center;"><a href="http://tomschenkjr.net/wordpress/wp-content/uploads/2012/05/r-script-syntax.png"><img title="R Script Syntax" alt="R Syntax" src="http://tomschenkjr.net/wordpress/wp-content/uploads/2012/05/r-script-syntax.png" width="600" height="313" /></a></p>
Before proceeding, take a look at the R interface. Similar to other programs (e.g., <a href="http://notepad-plus-plus.org/">Notepad++</a>), Sublime Text offers native syntax highlighting for R code. Load one of your codes or try a <a href="https://gist.github.com/2876877.">sample script</a>. If you don't see any highlighting, you can always tell Sublime Text by clicking <em>View  &gt; Syntax</em> and choosing <em>R</em>. Otherwise you can look in the lower right-hand corner as is shown in the image.

<a href="http://tomschenkjr.net/wordpress/wp-content/uploads/2012/05/choose-language.png"><img class="aligncenter size-full wp-image-1430" title="Choose Language" alt="" src="http://tomschenkjr.net/wordpress/wp-content/uploads/2012/05/choose-language.png" width="194" height="152" /></a>

A nifty feature is autocompleting parenthesis and other special characters. Type "<em>write.csv(</em>" and it'll auto-insert the right paren "<em>)</em>". Little underlines help you match each left parenthesis with the right parenthesis. It also works with "{", "[", single, and double quotation marks.

<a href="http://tomschenkjr.net/wordpress/wp-content/uploads/2012/05/tracking-parenthesis.png"><img class="aligncenter size-full wp-image-1441" title="Tracking Parenthesis" alt="Parenthesis and brackets are autoinserted" src="http://tomschenkjr.net/wordpress/wp-content/uploads/2012/05/tracking-parenthesis.png" width="600" height="121" /></a>

Comments have a lighter tone. So does the ubiquitous "&lt;-". Functions and special characters also have highlighting. If you don't like the color scheme, you can change it under Preferences &gt; Color Scheme. The default is Monokai, Twilight is a very dark theme while iPlastic is a very white theme.

<a href="http://tomschenkjr.net/wordpress/wp-content/uploads/2012/05/autocomplete-variables.png"><img class="aligncenter size-full wp-image-1442" title="Autocomplete Variables" alt="" src="http://tomschenkjr.net/wordpress/wp-content/uploads/2012/05/autocomplete-variables.png" width="600" height="138" /></a>

Once you type a variable or function names, you can easily reference it later for autocompletion. Load the data into a variable called "sampleData" and you only need to type "sa" and hit tab to complete the name. If there are multiple possible matches, then you can use arrow keys to choose. The limitation of this, however, is that Sublime Text treats "sample.data" as two separate names. To counter this, I've started to use underscores, which is friendlier. Also, Sublime Text is using a simple approach--it simply refers to what you've typed before, it is not remembering variables in your memory the same way the GUI interfaces do.
<blockquote>Click on Preferences &gt; Key Bindings - User, then copy and paste the following (thanks G-Force!)</blockquote>
<p style="text-align: center;">[gist]https://gist.github.com/3050337[/gist]</p>
There are plenty of shortcuts. Select a few lines of code and press <strong>Ctrl + /</strong> to toggle comments. <strong>Ctrl + L</strong> will select the entire line based on your cursor. <strong>Ctrl + G</strong>, type in a number and you'll jump to that line of code. Type <strong>Ctrl + :</strong> and type a variable name, it'll find all instances. If you have multiple tabs, type <strong>Ctrl + P</strong> and you can jump to specific tabs.

At this point, however, you can't execute or "compile" code. It's just pretty font, helpful quirks, and shortcuts.
<h2><strong>Package Manager</strong></h2>
Our next goal is to be able use the R console and do calculations within Sublime Text. We're going to use<em> </em>the <em>SublimeREPL</em> package to accomplish this. Don't worry, this isn't a rarefied thing that will clutter your RAM just for R; you'll probably use this package for other things too.
<blockquote>Visit the<a href="http://wbond.net/sublime_packages/package_control"> Sublime Package Control website</a> and follow the instructions to install the package manager on your computer.</blockquote>
<a href="http://tomschenkjr.net/wordpress/wp-content/uploads/2012/05/install-packages.png"><img class="aligncenter size-full wp-image-1440" title="Install Packages" alt="CTRL + SHIFT + P to bring up the package manager" src="http://tomschenkjr.net/wordpress/wp-content/uploads/2012/05/install-packages.png" width="600" height="158" /></a>
<blockquote>To access Package Manager type "<strong>Ctrl + Shift + P</strong>" to bring up a text box. Without using your mouse, begin to type "<em>Install package</em>" (without quotation marks). You may see a error related to git.exe, but you can ignore it at the moment.

Then type "SublimeREPL" and hit enter when it's highlighted.</blockquote>
SublimeREPL essentially allows Sublime Text to access compilers or other programs. You can write in Sublime Text and send it to R for the computing. The results are sent back to Sublime Text for display. For you, it will operate like the normal R console.

However, we need to tell SublimeREPL where R is located on our computer. We need to add R to the Windows Path.
<blockquote>Find where R is installed. To do this, right click on your R icon--whether it's start menu, desktop, or taskbar. Under the "Shortcut" tab, note the file path under "Target:". Copy and paste this to a text document, you'll need this shortly.</blockquote>
<a href="http://tomschenkjr.net/wordpress/wp-content/uploads/2012/05/r-path.png"><img class="aligncenter size-full wp-image-1436" title="R Path" alt="" src="http://tomschenkjr.net/wordpress/wp-content/uploads/2012/05/r-path.png" width="377" height="533" /></a>

Now,
<blockquote>Click on <em>Preferences -&gt; Package Settings &gt; SublimeREPL &gt; Settings – User</em>. Use the screenshot or example below and paste in the path (thanks Wojciech!).</blockquote>
<a href="http://tomschenkjr.net/wordpress/wp-content/uploads/2012/05/editing-path-in-sublime1.png"><img class="aligncenter size-full wp-image-1452" title="Editing PATH in Sublime" alt="" src="http://tomschenkjr.net/wordpress/wp-content/uploads/2012/05/editing-path-in-sublime1.png" width="600" height="136" /></a>

For example, you might paste:

[gist]https://gist.github.com/2859378[/gist]

Notice in my example that I am ignoring (disabled) some packages I have installed. In order for this to work, I needed to add a comma after the bracket on line 8 and pasted the "default_extend_env" within the curly brackets.

Now you have told where Sublime Text can look to find R.
<blockquote>Open the R Console by clicking <em>Tools &gt; SublimeREPL &gt; R</em>. A window will pop up with the familiar R console header.</blockquote>
<a href="http://tomschenkjr.net/wordpress/wp-content/uploads/2012/05/r-console2.png"><img class="aligncenter size-full wp-image-1431" title="R Console" alt="" src="http://tomschenkjr.net/wordpress/wp-content/uploads/2012/05/r-console2.png" width="600" height="261" /></a>
<h2><strong>Further Customization: R Shortcuts</strong></h2>
The R console is fantastic because you can quickly execute code from a script. SublimeREPL does have this capability, but the R user will want to use Ctrl+R, or something similar. Additionally, the native shortcut to execute script has some issues because it conflicts with other shortcuts already built-in Sublime Text.

Sublime Text calls these shortcuts "keybindings". Fortunately, they can be edited. However, you have to be careful since Sublime Text has <em>a lot</em> of shortcuts and it's easy to duplicate them, causing further issues.

I have a proposed set that should be pretty R user friendly. You can select some code (multiple, partial, or single lines) and run it in R using <strong>Ctrl + Shift + R</strong>. This is similar to the shortcut in the R console (a previous conflict prevents Ctrl + R without a lot of work).

To enable new keybindings:
<blockquote>Go to Preferences &gt; Key Bindings - User and paste the code below. If something if already there, then append the code to the bottom (thanks Wojciech!).</blockquote>
[gist]https://gist.github.com/2790415[/gist]

You can also execute a line of code--without highlighting--using <strong>Ctrl + Alt + R</strong>. Select line(s) of code and send it to the console by typing <strong>Ctrl + Shift + R</strong> and then hitting <strong>R</strong> again. Similarly, display a line of code using <strong>Ctrl + Alt + R</strong> and then typing <strong>R</strong> again.

If you want to execute the entire script, type <strong>Shift + F7 </strong>and the entire file will be ran in R, no matter where your cursor is placed. I chose <strong>F7</strong> because that is commonly used to compile code in other languages in Sublime Text.

A block of code can be sent by pressing <strong>Ctrl + Alt + Shift + R. </strong> A block is the code between { }, such as a function. If you want to view the code before it's executed, press <strong>Ctrl + Alt + Shift + R</strong>, then press R again.
<h2><strong>Side-by-Side</strong></h2>
<a href="http://tomschenkjr.net/wordpress/wp-content/uploads/2012/05/side-by-side-view.png"><img class="aligncenter size-full wp-image-1432" title="Side-by-side View" alt="" src="http://tomschenkjr.net/wordpress/wp-content/uploads/2012/05/side-by-side-view.png" width="600" height="355" /></a>

It is difficult when the script is in one window and the console in another, but it's easy to have the same feel as the R console.
<blockquote>To have the script and console side-by-side, click <em>View &gt; Layout</em>. Choose either "Columns: 2" or "Rows: 2", depending on your preference.

Switch between the side-by-side windows using Ctrl + 1 or Ctrl + 2.</blockquote>
Now you can see your script(s) and output side-by-side.
<h2><strong>Drawbacks</strong></h2>
The annoyances:
<ul>
	<li>The console behaves like a text editor. Your cursor will need to be at the end of the line before you hit enter. Otherwise it just creates a linebreak.</li>
	<li>When you use Ctrl + Shift + R (send selection) or Ctrl + Alt + R (send line), the console shows "&gt;" every time a command is send. This is a little annoying, but moreso if there are errors in your code.</li>
	<li>Sometimes the Ctrl + Shift + R or Ctrl + Alt + R is a little finicky, but I think I do it too quickly. Be deliberate if it does not seem to work.</li>
	<li>When I am doing some heavy R computations, the setup can become slow. It has only happened once and could have ultimately been my fault. Let me know about any performance issues.</li>
</ul>
Besides R, Sublime Text can also handle other programming/scripting language. It can also handle typesetting languages, such as LaTeX or Markdown. SublimeREPL also works with other languages, such as Ruby and Python.
<h2><strong>Credits</strong></h2>
This is a tutorial that combines the work of others. This tutorial is just making gumbo from the recipes of others. In particular, <a href="http://wuub.net/">Wojciech Bederski</a>, who wrote the SublimeREPL package, which is key. <em>Update</em>: Wojciech also wanted to give props to hootener, who really supported the Windows R implementation for REPL.  <a href="http://mads379.github.com/">Mads Hartmann Jensen</a> <a href="https://github.com/mads379/SublimeREPL/commit/1d1527b63fc9abd86ca3bb23dad29dd2604984ac">wrote</a> added the R support in REPL.  Obviously, the Sublime folks have put together a...uh...sublime program.